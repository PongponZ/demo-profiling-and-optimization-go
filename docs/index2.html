<!-- Chosen Palette: Warm Neutral Background (Stone/Paper), Deep Slate Text, Soft Indigo & Teal Accents for Data Visualization -->
<!-- Application Structure Plan: 
    1.  **Sidebar Navigation**: A sticky left sidebar for easy traversal of the guide's logical flow (Setup -> Metrics -> Visuals -> Strategy).
    2.  **Interactive Content Areas**:
        -   **Setup Selector**: Switch between 'Web Service' and 'Standalone' code snippets.
        -   **Metric visualizer**: A Chart.js demonstration to visually explain the difference between 'Flat' and 'Cumulative' values, which is often confusing for beginners.
        -   **Mock Flamegraph**: A CSS/HTML-based interactive stack trace that users can hover over to understand how width relates to resource usage and height to stack depth.
        -   **Optimization Decision Tree**: An interactive 'Wizard' where users click their problem (High CPU, High Memory) and get specific starting points for analysis.
    3.  **Rationale**: Profiling is abstract. Breaking it down into Setup (Action), Metrics (Theory), Visuals (Tooling), and Strategy (Application) creates a complete learning loop.
-->
<!-- Visualization & Content Choices:
    -   **Metrics Comparison (Chart.js)**: Bar chart comparing Flat vs Cumulative time for a hypothetical function stack. Justification: It's harder to explain math in text; a visual bar comparison makes 'inclusive' vs 'exclusive' time obvious.
    -   **Interactive Flamegraph (HTML/CSS/JS)**: A set of nested divs representing a stack trace. Hovering highlights the 'function' and shows a tooltip. Justification: Shows how to read flamegraphs (width = resource usage) without needing a real pprof file.
    -   **Memory Type Matrix (Grid)**: A 2x2 grid explaining Alloc vs InUse / Space vs Objects. Justification: These 4 dimensions are the core of memory profiling.
    -   **Optimization Wizard (JS-driven DOM updates)**: Simple button-flow interface. Justification: Guides the user from "Symptom" to "Solution" interactively.
-->
<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ Profiling ‡∏†‡∏≤‡∏©‡∏≤ Go ‡∏î‡πâ‡∏ß‡∏¢ pprof</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f5f5f4; /* Stone 100 */
            color: #334155; /* Slate 700 */
        }

        .code-block {
            background-color: #1e293b;
            color: #e2e8f0;
            border-radius: 0.5rem;
            padding: 1rem;
            font-family: 'Courier New', Courier, monospace;
            overflow-x: auto;
        }

        .flame-bar {
            cursor: pointer;
            transition: opacity 0.2s;
            position: relative;
        }
        .flame-bar:hover {
            opacity: 0.8;
            border: 2px solid #ffffff;
        }

        /* Tooltip implementation */
        .tooltip {
            position: absolute;
            background: #334155;
            color: white;
            padding: 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.875rem;
            pointer-events: none;
            z-index: 50;
            display: none;
            white-space: nowrap;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .nav-item.active {
            background-color: #e2e8f0;
            border-left: 4px solid #6366f1; /* Indigo 500 */
            font-weight: 600;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
    </style>
</head>
<body class="flex flex-col md:flex-row min-h-screen">

    <!-- Mobile Nav Toggle -->
    <div class="md:hidden bg-white p-4 shadow flex justify-between items-center sticky top-0 z-50">
        <h1 class="font-bold text-lg text-indigo-600">Go pprof Guide</h1>
        <button id="menu-toggle" class="text-gray-600 focus:outline-none">
            ‚ò∞ ‡πÄ‡∏°‡∏ô‡∏π
        </button>
    </div>

    <!-- Sidebar Navigation -->
    <nav id="sidebar" class="hidden md:flex flex-col w-full md:w-64 bg-white border-r border-gray-200 h-screen sticky top-0 overflow-y-auto z-40">
        <div class="p-6 border-b border-gray-100">
            <h1 class="text-2xl font-bold text-indigo-600">Go pprof</h1>
            <p class="text-xs text-gray-500 mt-1">‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢</p>
        </div>
        <ul class="flex flex-col py-4 space-y-1">
            <li><a href="#" onclick="navTo('intro')" class="nav-item block px-6 py-3 hover:bg-gray-50 text-sm active" id="nav-intro">‡∏ö‡∏ó‡∏ô‡∏≥ & ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥?</a></li>
            <li><a href="#" onclick="navTo('setup')" class="nav-item block px-6 py-3 hover:bg-gray-50 text-sm" id="nav-setup">Basic Setup</a></li>
            <li><a href="#" onclick="navTo('metrics')" class="nav-item block px-6 py-3 hover:bg-gray-50 text-sm" id="nav-metrics">‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤ (CPU/Mem)</a></li>
            <li><a href="#" onclick="navTo('flamegraph')" class="nav-item block px-6 py-3 hover:bg-gray-50 text-sm" id="nav-flamegraph">‡∏≠‡πà‡∏≤‡∏ô Flamegraph</a></li>
            <li><a href="#" onclick="navTo('optimize')" class="nav-item block px-6 py-3 hover:bg-gray-50 text-sm" id="nav-optimize">‡πÄ‡∏£‡∏¥‡πà‡∏° Optimize ‡∏¢‡∏±‡∏á‡πÑ‡∏á?</a></li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="flex-1 p-6 md:p-10 overflow-y-auto scroll-smooth">
        
        <!-- Intro Section -->
        <section id="intro" class="mb-16">
            <h2 class="text-3xl font-bold mb-6 text-gray-800 border-b pb-4">Profiling ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100">
                <p class="mb-4 text-lg leading-relaxed">
                    ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ <strong>Profiling</strong> ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏ß‡πà‡∏≤ "‡∏à‡∏∏‡∏î‡πÑ‡∏´‡∏ô" ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏Å‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ X-Ray ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                    <div class="bg-indigo-50 p-5 rounded-lg border-l-4 border-indigo-500">
                        <h3 class="font-bold text-indigo-700 mb-2">‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ pprof?</h3>
                        <ul class="list-disc ml-5 space-y-2 text-sm">
                            <li>‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤ Go ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°</li>
                            <li>‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ï‡πà‡∏≥ (Low Overhead) ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô Production ‡πÑ‡∏î‡πâ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</li>
                            <li>‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÑ‡∏î‡πâ‡∏•‡∏∂‡∏Å‡∏ó‡∏±‡πâ‡∏á CPU, Memory, Goroutine Blocking, ‡πÅ‡∏•‡∏∞ Lock</li>
                        </ul>
                    </div>
                    <div class="bg-teal-50 p-5 rounded-lg border-l-4 border-teal-500">
                        <h3 class="font-bold text-teal-700 mb-2">‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏≠‡∏∞‡πÑ‡∏£?</h3>
                        <ul class="list-disc ml-5 space-y-2 text-sm">
                            <li>‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÑ‡∏´‡∏ô‡∏Å‡∏¥‡∏ô CPU ‡∏ô‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</li>
                            <li>‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÑ‡∏´‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á object ‡πÄ‡∏¢‡∏≠‡∏∞‡∏à‡∏ô Memory ‡∏ö‡∏ß‡∏°</li>
                            <li>‡πÄ‡∏´‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô (Call Stack)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Setup Section -->
        <section id="setup" class="mb-16 hidden">
            <h2 class="text-3xl font-bold mb-6 text-gray-800 border-b pb-4">Basic Setup</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100">
                <p class="mb-6">‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á pprof ‡πÉ‡∏ô Go ‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏≤‡∏Å ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏Ñ‡πà import package ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á:</p>

                <!-- Tabs -->
                <div class="flex space-x-2 mb-4 border-b">
                    <button onclick="switchSetup('web')" id="btn-web" class="px-4 py-2 font-medium text-indigo-600 border-b-2 border-indigo-600 transition-colors">Web Server (net/http)</button>
                    <button onclick="switchSetup('cli')" id="btn-cli" class="px-4 py-2 font-medium text-gray-500 hover:text-indigo-600 transition-colors">Standalone / CLI</button>
                </div>

                <!-- Code Content -->
                <div id="code-web">
                    <div class="bg-blue-50 border border-blue-200 text-blue-800 px-4 py-3 rounded mb-4 text-sm">
                        üí° <strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ:</strong> ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô HTTP Server ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏Ñ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° import ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß Route `/debug/pprof/` ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
                    </div>
                    <div class="code-block">
                        <pre>package main

import (
    "log"
    "net/http"
    _ "net/http/pprof" // <--- 1. Import ‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ
)

func main() {
    // ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏ã‡∏¥‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏õ‡∏Å‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
    // ...

    // pprof ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏µ‡πà port ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì listen
    log.Println(http.ListenAndServe("localhost:6060", nil))
}</pre>
                    </div>
                </div>

                <div id="code-cli" class="hidden">
                     <div class="bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded mb-4 text-sm">
                        üí° <strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ:</strong> ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô Background Worker ‡∏´‡∏£‡∏∑‡∏≠ CLI ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î HTTP Server ‡πÅ‡∏¢‡∏Å‡∏°‡∏≤‡∏≠‡∏µ‡∏Å 1 goroutine ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ
                    </div>
                    <div class="code-block">
                        <pre>package main

import (
    "log"
    "net/http"
    _ "net/http/pprof" // <--- 1. Import
)

func main() {
    // 2. ‡πÅ‡∏¢‡∏Å Goroutine ‡∏°‡∏≤‡πÄ‡∏õ‡∏¥‡∏î Port ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Profiling ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞
    go func() {
        log.Println("Pprof server running on :6060")
        log.Println(http.ListenAndServe("localhost:6060", nil))
    }()

    // ‡πÇ‡∏Ñ‡πâ‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (Work loop)
    // ...
    select {} 
}</pre>
                    </div>
                </div>

                <div class="mt-6 pt-6 border-t">
                    <h3 class="font-bold text-lg mb-2">‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°)</h3>
                    <p class="text-sm mb-2 text-gray-600">‡πÄ‡∏õ‡∏¥‡∏î Terminal ‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà Interactive Mode:</p>
                    <div class="bg-gray-800 text-white p-3 rounded font-mono text-sm mb-2">
                        go tool pprof http://localhost:6060/debug/pprof/profile?seconds=30
                    </div>
                    <p class="text-xs text-gray-500">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤ CPU Profile ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏¥‡∏î Interactive shell ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ï‡πà‡∏≠</p>
                </div>
            </div>
        </section>

        <!-- Metrics Section -->
        <section id="metrics" class="mb-16 hidden">
            <h2 class="text-3xl font-bold mb-6 text-gray-800 border-b pb-4">‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Profiling</h2>
            
            <!-- CPU Metrics -->
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 mb-8">
                <h3 class="text-xl font-bold text-indigo-700 mb-4 flex items-center">
                    <span class="bg-indigo-100 p-2 rounded mr-2">‚öôÔ∏è</span> CPU Profiling: Flat vs Cum
                </h3>
                <p class="mb-6 text-gray-600">
                    ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏á‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1 ‡∏Ç‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á <code>Flat</code> ‡πÅ‡∏•‡∏∞ <code>Cum</code> (Cumulative) ‡∏•‡∏≠‡∏á‡∏î‡∏π‡πÅ‡∏ú‡∏ô‡∏†‡∏≤‡∏û‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
                </p>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                    <div>
                        <ul class="space-y-4">
                            <li class="bg-slate-50 p-4 rounded border-l-4 border-red-500 shadow-sm transition hover:shadow-md cursor-help" onmouseenter="highlightChart('flat')" onmouseleave="resetChart()">
                                <div class="font-bold text-red-600">Flat (Exclusive)</div>
                                <div class="text-sm text-gray-700">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà CPU ‡πÉ‡∏ä‡πâ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÉ‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ <strong>"‡∏à‡∏£‡∏¥‡∏á‡πÜ"</strong> (‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≠‡∏á‡∏ï‡πà‡∏≠)</div>
                                <div class="text-xs text-gray-500 mt-1">‡∏ñ‡πâ‡∏≤‡∏Ñ‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏™‡∏π‡∏á = ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏≠‡∏á</div>
                            </li>
                            <li class="bg-slate-50 p-4 rounded border-l-4 border-blue-500 shadow-sm transition hover:shadow-md cursor-help" onmouseenter="highlightChart('cum')" onmouseleave="resetChart()">
                                <div class="font-bold text-blue-600">Cum (Cumulative / Inclusive)</div>
                                <div class="text-sm text-gray-700">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏ô‡∏≠‡∏≠‡∏Å (‡∏£‡∏ß‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢)</div>
                                <div class="text-xs text-gray-500 mt-1">‡∏ñ‡πâ‡∏≤‡∏Ñ‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏™‡∏π‡∏á‡πÅ‡∏ï‡πà Flat ‡∏ï‡πà‡∏≥ = ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏ï‡∏±‡∏ß‡∏™‡∏±‡πà‡∏á‡∏á‡∏≤‡∏ô (Orchestrator) ‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏Å‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≠‡∏á</div>
                            </li>
                        </ul>
                    </div>
                    <div class="bg-white p-4 rounded border border-gray-200">
                        <div class="text-center font-bold text-sm mb-2 text-gray-500">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: main() ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å process() ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å calculate()</div>
                        <div class="chart-container">
                            <canvas id="cpuChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Memory Metrics -->
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100">
                <h3 class="text-xl font-bold text-teal-700 mb-4 flex items-center">
                    <span class="bg-teal-100 p-2 rounded mr-2">üíæ</span> Memory Profiling: 4 ‡∏°‡∏¥‡∏ï‡∏¥
                </h3>
                <p class="mb-6 text-gray-600">
                    Memory ‡∏à‡∏∞‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏ß‡πà‡∏≤ CPU ‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏µ 2 ‡πÅ‡∏Å‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏π‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô ‡∏Ñ‡∏∑‡∏≠ <strong>"‡∏à‡∏≠‡∏á‡πÑ‡∏õ‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà" (Alloc)</strong> vs <strong>"‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà" (InUse)</strong> ‡πÅ‡∏•‡∏∞ <strong>"‡∏Ç‡∏ô‡∏≤‡∏î" (Space)</strong> vs <strong>"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏¥‡πâ‡∏ô" (Objects)</strong>
                </p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Card 1 -->
                    <div class="border rounded-lg p-4 hover:bg-gray-50">
                        <h4 class="font-bold text-gray-800 mb-2">Alloc Space (Total Allocated)</h4>
                        <p class="text-sm text-gray-600">‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì Bytes ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏à‡∏≠‡∏á (‡∏£‡∏ß‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∑‡∏ô‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏î‡πâ‡∏ß‡∏¢) <br><span class="text-red-500 text-xs font-bold">‡πÉ‡∏ä‡πâ‡∏î‡∏π: ‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏¢‡∏∞ (Garbage) ‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ GC ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏Å</span></p>
                    </div>
                     <!-- Card 2 -->
                     <div class="border rounded-lg p-4 hover:bg-gray-50">
                        <h4 class="font-bold text-gray-800 mb-2">InUse Space (Current Heap)</h4>
                        <p class="text-sm text-gray-600">‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì Bytes ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà ‡∏ì ‡∏Ç‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö profile <br><span class="text-indigo-500 text-xs font-bold">‡πÉ‡∏ä‡πâ‡∏î‡∏π: ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Memory Leak ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏ç‡πà‡πÜ ‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ</span></p>
                    </div>
                     <!-- Card 3 -->
                     <div class="border rounded-lg p-4 hover:bg-gray-50">
                        <h4 class="font-bold text-gray-800 mb-2">Alloc Objects</h4>
                        <p class="text-sm text-gray-600">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô "‡∏ä‡∏¥‡πâ‡∏ô" ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á <br><span class="text-orange-500 text-xs font-bold">‡πÉ‡∏ä‡πâ‡∏î‡∏π: ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á object ‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏ñ‡∏µ‡πà‡πÜ (‡πÄ‡∏ä‡πà‡∏ô slice ‡∏´‡∏£‡∏∑‡∏≠ string concat ‡πÉ‡∏ô loop)</span></p>
                    </div>
                     <!-- Card 4 -->
                     <div class="border rounded-lg p-4 hover:bg-gray-50">
                        <h4 class="font-bold text-gray-800 mb-2">InUse Objects</h4>
                        <p class="text-sm text-gray-600">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô "‡∏ä‡∏¥‡πâ‡∏ô" ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡∏Ñ‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö <br><span class="text-purple-500 text-xs font-bold">‡πÉ‡∏ä‡πâ‡∏î‡∏π: Pool ‡∏Ç‡∏≠‡∏á object ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô</span></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Flamegraph Section -->
        <section id="flamegraph" class="mb-16 hidden">
            <h2 class="text-3xl font-bold mb-6 text-gray-800 border-b pb-4">‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô Flamegraph</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100">
                <p class="mb-4 text-gray-600">
                    Flamegraph ‡∏Ñ‡∏∑‡∏≠‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÅ‡∏Å‡∏ô X ‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ (CPU Time ‡∏´‡∏£‡∏∑‡∏≠ Memory Size) ‡πÅ‡∏Å‡∏ô Y ‡∏Ñ‡∏∑‡∏≠‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô (Stack Depth)
                </p>
                <div class="bg-gray-100 p-4 rounded-lg mb-6">
                    <h4 class="font-bold text-center mb-2 text-gray-500 text-sm">Interactive Demo: ‡∏•‡∏≠‡∏á‡πÄ‡∏≠‡∏≤‡πÄ‡∏°‡∏≤‡∏™‡πå‡∏ä‡∏µ‡πâ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πà‡∏á‡∏™‡∏µ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</h4>
                    
                    <!-- Tooltip Element -->
                    <div id="flame-tooltip" class="tooltip"></div>

                    <!-- Mock Flamegraph Container -->
                    <div class="flex flex-col-reverse items-center w-full max-w-2xl mx-auto space-y-reverse space-y-1">
                        
                        <!-- Level 3 -->
                        <div class="flex w-full space-x-1 h-8">
                            <div class="w-[10%]"></div>
                            <div class="w-[30%] bg-orange-400 flame-bar rounded-sm text-xs flex items-center justify-center text-white" 
                                 onmousemove="showTooltip(event, 'json.Marshal', '30% Usage<br>Flat: 25% (‡∏´‡∏ô‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡∏°‡∏±‡∏ô‡πÄ‡∏≠‡∏á)<br>Serialization ‡∏Å‡∏¥‡∏ô CPU')" 
                                 onmouseleave="hideTooltip()">json.Marshal</div>
                            <div class="w-[10%]"></div>
                            <div class="w-[20%] bg-red-500 flame-bar rounded-sm text-xs flex items-center justify-center text-white" 
                                 onmousemove="showTooltip(event, 'db.Query', '20% Usage<br>Flat: 5%<br>‡∏£‡∏≠ Network I/O')" 
                                 onmouseleave="hideTooltip()">db.Query</div>
                        </div>

                        <!-- Level 2 -->
                        <div class="flex w-full space-x-1 h-8">
                             <div class="w-[5%]"></div>
                             <div class="w-[50%] bg-orange-300 flame-bar rounded-sm text-xs flex items-center justify-center text-white"
                                  onmousemove="showTooltip(event, 'ProcessData', '50% Usage<br>Cum: ‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å<br>‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏™‡∏±‡πà‡∏á‡∏á‡∏≤‡∏ô json.Marshal')"
                                  onmouseleave="hideTooltip()">ProcessData</div>
                             <div class="w-[35%] bg-red-400 flame-bar rounded-sm text-xs flex items-center justify-center text-white"
                                  onmousemove="showTooltip(event, 'FetchUser', '35% Usage<br>Cum: ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á<br>‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Database')"
                                  onmouseleave="hideTooltip()">FetchUser</div>
                        </div>

                        <!-- Level 1 (Root) -->
                        <div class="flex w-full h-8">
                            <div class="w-[95%] bg-yellow-500 flame-bar rounded-sm text-xs flex items-center justify-center text-white mx-auto"
                                 onmousemove="showTooltip(event, 'HTTP Handler', '100% Usage (Root)<br>‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô request')"
                                 onmouseleave="hideTooltip()">HTTP Handler (ServeHTTP)</div>
                        </div>
                    </div>
                    <div class="text-center mt-2 text-xs text-gray-400">‡πÅ‡∏Å‡∏ô X (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á) = ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</div>
                </div>

                <div class="space-y-4">
                    <h4 class="font-bold text-indigo-700">‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï:</h4>
                    <ul class="list-disc ml-5 space-y-2 text-sm text-gray-700">
                        <li><strong>‡∏°‡∏≠‡∏á‡∏´‡∏≤ "‡∏†‡∏π‡πÄ‡∏Ç‡∏≤‡∏¢‡∏≠‡∏î‡∏ï‡∏±‡∏î" (Wide Plateaus):</strong> ‡πÅ‡∏ó‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (‡πÉ‡∏ä‡πâ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡πÄ‡∏¢‡∏≠‡∏∞‡∏™‡∏∏‡∏î)</li>
                        <li><strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å (Height) ‡πÑ‡∏°‡πà‡∏ô‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á:</strong> Stack ‡∏•‡∏∂‡∏Å‡πÅ‡∏Ñ‡πà‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏±‡πâ‡∏ô ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡πÅ‡∏ó‡πà‡∏á‡∏°‡∏±‡∏ô‡∏ú‡∏≠‡∏° ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß</li>
                        <li><strong>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢ Regex:</strong> ‡πÉ‡∏ô Web UI ‡∏Ç‡∏≠‡∏á pprof ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡πà‡∏≠‡∏á Search ‡πÄ‡∏û‡∏∑‡πà‡∏≠ highlight ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡πÑ‡∏î‡πâ</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Optimize Strategy Section -->
        <section id="optimize" class="mb-16 hidden">
            <h2 class="text-3xl font-bold mb-6 text-gray-800 border-b pb-4">‡πÄ‡∏£‡∏¥‡πà‡∏° Optimize ‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô‡∏î‡∏µ?</h2>
            
            <!-- Optimization Wizard -->
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-100">
                <h3 class="font-bold text-xl mb-4 text-center">Optimization Wizard</h3>
                <p class="text-center text-gray-500 mb-6">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏Ñ‡∏∏‡∏ì ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</p>
                
                <div class="flex justify-center space-x-4 mb-8">
                    <button onclick="showAdvice('cpu')" class="bg-red-50 hover:bg-red-100 text-red-600 font-bold py-3 px-6 rounded-lg border border-red-200 transition shadow-sm w-40">
                        üî• CPU ‡∏™‡∏π‡∏á
                    </button>
                    <button onclick="showAdvice('mem')" class="bg-teal-50 hover:bg-teal-100 text-teal-600 font-bold py-3 px-6 rounded-lg border border-teal-200 transition shadow-sm w-40">
                        üíß Memory ‡∏ö‡∏ß‡∏°
                    </button>
                    <button onclick="showAdvice('latency')" class="bg-purple-50 hover:bg-purple-100 text-purple-600 font-bold py-3 px-6 rounded-lg border border-purple-200 transition shadow-sm w-40">
                        üê¢ ‡∏ä‡πâ‡∏≤ (Latency)
                    </button>
                </div>

                <!-- Advice Containers -->
                <div id="advice-cpu" class="advice-box hidden bg-red-50 p-6 rounded-lg border border-red-100">
                    <h4 class="font-bold text-red-700 text-lg mb-3">üî• ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ CPU ‡∏™‡∏π‡∏á</h4>
                    <ul class="space-y-3 text-sm text-gray-700">
                        <li><strong>1. ‡∏î‡∏π Flat Time ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î:</strong> ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á <code>top</code> ‡πÉ‡∏ô pprof ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏π Flamegraph ‡∏´‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÜ ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≠‡∏á (Leaf node) ‡∏ô‡∏±‡πà‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡∏Å‡∏¥‡∏ô CPU</li>
                        <li><strong>2. ‡πÄ‡∏ä‡πá‡∏Ñ Loop:</strong> ‡∏°‡∏µ‡∏Å‡∏≤‡∏£ loop ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô ‡∏´‡∏£‡∏∑‡∏≠ loop ‡∏ã‡πâ‡∏≠‡∏ô loop (O(n^2)) ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</li>
                        <li><strong>3. ‡πÄ‡∏ä‡πá‡∏Ñ JSON/Serialization:</strong> ‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á Struct ‡πÄ‡∏õ‡πá‡∏ô JSON/Protobuf ‡∏Å‡∏¥‡∏ô CPU ‡∏°‡∏´‡∏≤‡∏®‡∏≤‡∏• ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô library ‡∏´‡∏£‡∏∑‡∏≠ cache ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</li>
                        <li><strong>4. ‡πÄ‡∏ä‡πá‡∏Ñ GC:</strong> ‡∏ñ‡πâ‡∏≤ CPU 30-40% ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÇ‡∏î‡∏¢ <code>runtime.mallocgc</code> ‡∏´‡∏£‡∏∑‡∏≠ <code>runtime.scanobject</code> ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏™‡∏£‡πâ‡∏≤‡∏á Object ‡πÄ‡∏¢‡∏≠‡∏∞‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà Memory ‡πÅ‡∏ó‡∏ô (‡∏•‡∏î Allocation)</li>
                    </ul>
                </div>

                <div id="advice-mem" class="advice-box hidden bg-teal-50 p-6 rounded-lg border border-teal-100">
                    <h4 class="font-bold text-teal-700 text-lg mb-3">üíß ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Memory ‡∏ö‡∏ß‡∏° / GC ‡∏´‡∏ô‡∏±‡∏Å</h4>
                    <ul class="space-y-3 text-sm text-gray-700">
                        <li><strong>1. ‡∏î‡∏π alloc_space:</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏ß‡πà‡∏≤‡πÉ‡∏Ñ‡∏£ "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏¢‡∏∞" ‡πÄ‡∏¢‡∏≠‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏ñ‡∏∂‡∏á‡πÅ‡∏°‡πâ‡∏à‡∏∞‡∏Ñ‡∏∑‡∏ô‡πÅ‡∏£‡∏°‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏¢‡∏≠‡∏∞ GC ‡∏Å‡πá‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏Å</li>
                        <li><strong>2. ‡∏î‡∏π inuse_space:</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤ Memory Leak ‡πÉ‡∏Ñ‡∏£‡∏ñ‡∏∑‡∏≠‡πÅ‡∏£‡∏°‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡∏õ‡∏•‡πà‡∏≠‡∏¢</li>
                        <li><strong>3. ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Pointer:</strong> ‡πÉ‡∏ô Go ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Pointer ‡πÄ‡∏¢‡∏≠‡∏∞ GC ‡∏ï‡πâ‡∏≠‡∏á Scan ‡πÄ‡∏¢‡∏≠‡∏∞ ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ Value type ‡∏ñ‡πâ‡∏≤ struct ‡πÑ‡∏°‡πà‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏≤‡∏Å</li>
                        <li><strong>4. ‡πÉ‡∏ä‡πâ sync.Pool:</strong> ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Object ‡πÄ‡∏î‡∏¥‡∏°‡∏ã‡πâ‡∏≥‡πÜ (‡πÄ‡∏ä‡πà‡∏ô Buffer) ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ <code>sync.Pool</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡∏°‡πà</li>
                        <li><strong>5. String Concatenation:</strong> ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ <code>+</code> ‡∏ï‡πà‡∏≠ String ‡πÉ‡∏ô Loop ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ <code>strings.Builder</code></li>
                    </ul>
                </div>

                <div id="advice-latency" class="advice-box hidden bg-purple-50 p-6 rounded-lg border border-purple-100">
                    <h4 class="font-bold text-purple-700 text-lg mb-3">üê¢ ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ä‡πâ‡∏≤ (‡πÅ‡∏ï‡πà CPU/Mem ‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°)</h4>
                    <ul class="space-y-3 text-sm text-gray-700">
                        <li><strong>1. ‡πÉ‡∏ä‡πâ Trace (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà pprof):</strong> pprof ‡πÄ‡∏Å‡πà‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á CPU/Mem ‡πÅ‡∏ï‡πà <code>go tool trace</code> ‡πÄ‡∏Å‡πà‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á Latency ‡πÅ‡∏•‡∏∞ Blocking</li>
                        <li><strong>2. ‡∏î‡∏π Goroutine Profile:</strong> ‡πÉ‡∏ä‡πâ <code>debug/pprof/goroutine?debug=1</code> ‡∏î‡∏π‡∏ß‡πà‡∏≤ Goroutine ‡πÑ‡∏õ‡∏Å‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÑ‡∏´‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ (‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏≠ Lock, ‡∏£‡∏≠ Database)</li>
                        <li><strong>3. Block Profile:</strong> ‡πÉ‡∏ä‡πâ profile `block` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ß‡πà‡∏≤ function ‡πÑ‡∏´‡∏ô‡∏£‡∏≠ resource ‡∏ô‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</li>
                        <li><strong>4. Mutex Contention:</strong> ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡πà‡∏á‡∏Å‡∏±‡∏ô‡πÉ‡∏ä‡πâ Lock (Mutex) ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-8 bg-gray-50 p-6 rounded border border-gray-200">
                 <h3 class="font-bold text-gray-700 mb-3">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏π‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (Tips)</h3>
                 <ul class="list-disc ml-5 space-y-2 text-sm text-gray-600">
                     <li><strong>‡∏≠‡∏¢‡πà‡∏≤ Profile ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô Production:</strong> ‡πÅ‡∏°‡πâ Go pprof ‡∏à‡∏∞‡πÄ‡∏ö‡∏≤ ‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏°‡∏µ overhead ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô‡∏à‡∏∞ Debug ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏¥‡∏î Sampling rate ‡∏ï‡πà‡∏≥‡πÜ</li>
                     <li><strong>Memory Profile ‡πÄ‡∏õ‡πá‡∏ô Sampling:</strong> ‡πÇ‡∏î‡∏¢ default ‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡∏ó‡∏∏‡∏Å‡πÜ 512KB allocation (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ó‡∏∏‡∏Å byte) ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£</li>
                     <li><strong>‡∏≠‡∏¢‡πà‡∏≤ Optimize ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà Profile:</strong> "Premature optimization is the root of all evil" ‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏î‡∏≤‡∏ß‡πà‡∏≤‡∏ä‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô ‡πÉ‡∏´‡πâ pprof ‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏∏‡∏ì</li>
                 </ul>
            </div>
        </section>

    </main>

    <script>
        // State
        let currentTab = 'intro';
        let cpuChartInstance = null;

        // Navigation Logic
        function navTo(sectionId) {
            // Hide all sections
            document.querySelectorAll('main > section').forEach(sec => sec.classList.add('hidden'));
            
            // Show target section
            document.getElementById(sectionId).classList.remove('hidden');
            
            // Update sidebar active state
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active', 'bg-gray-50', 'border-l-4', 'border-indigo-500', 'font-600');
                item.classList.add('hover:bg-gray-50');
            });
            const activeNav = document.getElementById(`nav-${sectionId}`);
            if(activeNav) {
                activeNav.classList.add('active');
            }

            // Scroll to top
            document.querySelector('main').scrollTop = 0;

            // Close mobile menu if open
            if(window.innerWidth < 768) {
                document.getElementById('sidebar').classList.add('hidden');
            }

            // Init Chart if metrics section
            if(sectionId === 'metrics' && !cpuChartInstance) {
                initCpuChart();
            }
        }

        // Setup Tab Logic
        function switchSetup(type) {
            const web = document.getElementById('code-web');
            const cli = document.getElementById('code-cli');
            const btnWeb = document.getElementById('btn-web');
            const btnCli = document.getElementById('btn-cli');

            if (type === 'web') {
                web.classList.remove('hidden');
                cli.classList.add('hidden');
                
                btnWeb.classList.add('text-indigo-600', 'border-b-2', 'border-indigo-600');
                btnWeb.classList.remove('text-gray-500');
                
                btnCli.classList.remove('text-indigo-600', 'border-b-2', 'border-indigo-600');
                btnCli.classList.add('text-gray-500');
            } else {
                web.classList.add('hidden');
                cli.classList.remove('hidden');

                btnCli.classList.add('text-indigo-600', 'border-b-2', 'border-indigo-600');
                btnCli.classList.remove('text-gray-500');

                btnWeb.classList.remove('text-indigo-600', 'border-b-2', 'border-indigo-600');
                btnWeb.classList.add('text-gray-500');
            }
        }

        // Optimization Wizard Logic
        function showAdvice(type) {
            document.querySelectorAll('.advice-box').forEach(box => box.classList.add('hidden'));
            document.getElementById(`advice-${type}`).classList.remove('hidden');
        }

        // Flamegraph Tooltip
        function showTooltip(e, title, content) {
            const tooltip = document.getElementById('flame-tooltip');
            tooltip.style.display = 'block';
            tooltip.innerHTML = `<strong>${title}</strong><br>${content}`;
            
            // Positioning
            const x = e.pageX;
            const y = e.pageY;
            
            // Adjust if too close to right edge
            if(x > window.innerWidth - 200) {
                 tooltip.style.left = (x - 200) + 'px';
            } else {
                 tooltip.style.left = (x + 10) + 'px';
            }
            tooltip.style.top = (y + 10) + 'px';
        }

        function hideTooltip() {
            document.getElementById('flame-tooltip').style.display = 'none';
        }

        // Mobile Menu Toggle
        document.getElementById('menu-toggle').addEventListener('click', () => {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('hidden');
            sidebar.classList.toggle('absolute');
            sidebar.classList.toggle('z-50');
        });

        // Chart.js Visualization for Flat vs Cum
        function initCpuChart() {
            const ctx = document.getElementById('cpuChart').getContext('2d');
            
            // Data for a function: Total time = 100ms. 
            // Flat (Self) = 20ms.
            // Calls Child A (30ms).
            // Calls Child B (50ms).
            // Cum = 20 + 30 + 50 = 100ms.
            
            cpuChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Flat Time', 'Cumulative Time'],
                    datasets: [
                        {
                            label: 'Self Execution (‡∏á‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á)',
                            data: [20, 20],
                            backgroundColor: 'rgba(239, 68, 68, 0.7)', // Red for self/flat
                            borderColor: 'rgba(239, 68, 68, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Children Execution (‡∏£‡∏≠‡∏á‡∏≤‡∏ô‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≠‡∏á)',
                            data: [0, 80], // Flat doesn't include children
                            backgroundColor: 'rgba(59, 130, 246, 0.7)', // Blue for children
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { stacked: true },
                        y: { 
                            stacked: true,
                            title: { display: true, text: 'Time (ms)' },
                            max: 120
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                footer: (tooltipItems) => {
                                    if(tooltipItems[0].dataIndex === 0) {
                                        return 'Flat ‡πÑ‡∏°‡πà‡∏ô‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≠‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≠‡∏á';
                                    } else {
                                        return 'Cum ‡∏£‡∏ß‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á + ‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î';
                                    }
                                }
                            }
                        }
                    }
                }
            });
        }

        function highlightChart(type) {
            if(!cpuChartInstance) return;
            
            // Reset colors
            const datasetSelf = cpuChartInstance.data.datasets[0];
            const datasetChild = cpuChartInstance.data.datasets[1];
            
            if(type === 'flat') {
                // Dim cumulative bar
                datasetSelf.backgroundColor = ['rgba(239, 68, 68, 1)', 'rgba(239, 68, 68, 0.2)'];
                datasetChild.backgroundColor = ['rgba(59, 130, 246, 0.0)', 'rgba(59, 130, 246, 0.2)'];
            } else {
                // Highlight cum bar
                datasetSelf.backgroundColor = ['rgba(239, 68, 68, 0.2)', 'rgba(239, 68, 68, 1)'];
                datasetChild.backgroundColor = ['rgba(59, 130, 246, 0.0)', 'rgba(59, 130, 246, 1)'];
            }
            cpuChartInstance.update();
        }

        function resetChart() {
            if(!cpuChartInstance) return;
            cpuChartInstance.data.datasets[0].backgroundColor = 'rgba(239, 68, 68, 0.7)';
            cpuChartInstance.data.datasets[1].backgroundColor = 'rgba(59, 130, 246, 0.7)';
            cpuChartInstance.update();
        }

        // Initial setup
        navTo('intro');

    </script>
</body>
</html>